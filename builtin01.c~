#include "shell.h"

/**
 * thexitbuiltin - It is a builtin function in the
 *                  IDE to exit shell
 * @buff: this is the line containing exit command in use
 * @argv: args or arguments
 * @line: the line number
 * @err: custom errno
 *
 * Return: void
 */

void thexitbuiltin(char *buff, char **argv, int line, int *err)
{
	int i, f;
	char **exitcode;

	exitcode = tokenize(buff, ' ');
	free(buff);
	if (exitcode[1] != NULL)
	{
		for (f = 0; exitcode[1][f]; f++)
		{
			if (exitcode[1][f] < '0' || exitcode[1][f] > '9')
			{
				prerr(argv, exitcode, line, 666);
				for (i = 0; exitcode[i] != NULL; i++)
					free(exitcode[i]);
				free(exitcode);
				if (isatty(STDIN_FILENO))
					return;
				exit(2);
			}
		}
		*err = _atoi(exitcode[1]);
		if (*err > 255)
			*err = *err % 256;
	}
	for (i = 0; exitcode[i] != NULL; i++)
		free(exitcode[i]);
	free(exitcode);
	exit(*err);
}

/**
 * the_envbltin - with this function, we are able
 *                  do print outs
 * @buff: @buff is the line that contains the command
 * @env: @env is a double pointer that contains
 *          enviromental variables
 *
 * Return: void
 */

void the_envbltin(char *buff, char **env)
{
	int i;

	for (i = 0; env[i] != NULL; i++)
		_printf(STDOUT_FILENO, "%s\n", env[i]);

	free(buff);
}
